---
# this is an empty front matter so liquid code is processed
---

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>soundgasm.net</title>

    <link rel="stylesheet" href="{{ site.baseurl }}/assets/static.soundgasm/css/site.css">
    <link rel="stylesheet" type='text/css' href="{{ site.baseurl }}/assets/static.soundgasm/fonts/googleapis.fonts/cssa928.css">
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/static.soundgasm/fonts/font-awesome/font-awesome.min.css">
</head>

<body>
    <header>
        <a href="{{ site.baseurl }}/" class="logo">Soundgasm.net Logo</a>
        <nav>
            <a href="{{ site.baseurl }}/">Home</a>
            <a href="{{ site.baseurl }}/login">Login</a>
            <a href="#">Signup</a>
            <a href="{{ site.baseurl }}/contact">Contact</a>
        </nav>
    </header>

    <h1>Create an Account!</h1>

    <div class="signupform">
        <form action="{{ site.baseurl }}/signup/create_member" method="post" accept-charset="utf-8" id="signupform">
            <div style="display:none">
                <input type="hidden" name="csrf_test_name" id="csrf_token" value="" />
            </div>

            <label for="email_address">Email</label> 
            <input type="text" name="email_address" value="" id="email_address" />
            
            <label for="username">Username</label> 
            <input type="text" name="username" value="" id="username" />
            
            <label for="password">Password</label> 
            <input type="password" name="password" value="" id="password" />

            <label for="password2">Confirm Password</label> 
            <input type="password" name="password2" value="" id="password2" />

            <input type="submit" name="submit" value="Create Account" id="submit" />
        </form>
    </div>

    <script>
        // Function to generate a random 32-character hexadecimal CSRF token
        function generateCSRFToken() {
            let token = '';
            for (let i = 0; i < 32; i++) {
                // Generate a random hexadecimal digit (0-9 or a-f)
                token += Math.floor(Math.random() * 16).toString(16);
            }
            return token;
        }

        // Ensure the token is inserted into the CSRF input field when the page loads
        window.onload = function () {
            var csrfToken = generateCSRFToken();  // Generate the CSRF token
            document.getElementById('csrf_token').value = csrfToken;  // Insert token into the hidden input field

            // =================================================================================================//
            var form = document.querySelector('form');

            form.onsubmit = function (event) {
                // Prevent the form from submitting and causing a page reload
                event.preventDefault();

                // Perform your "validation" or actions here (like CSRF token validation)
                // Get the values of each input field by their IDs
                var emailAddress = document.getElementById('email_address').value;
                var username = document.getElementById('username').value;
                var password = document.getElementById('password').value;
                var password2 = document.getElementById('password2').value;

                // Log the values to the console
                console.log("Email Address: " + emailAddress);
                console.log("Username: " + username);
                console.log("Password: " + password);
                console.log("Confirm Password: " + password2);

                setTimeout(function () {
                    // Redirect from /passwordreset/step2/ to /login/
                    window.location.href = "{{ site.baseurl }}/login";  // Redirect to the login page after form submission
                }, 250);
            };
        };
    </script>

    <script src="{{ site.baseurl }}/assets/static.soundgasm/js/1.12.2.jquery.min.js"></script>

</body>

</html>